<!-- templates/monitoring_tab.html -->
<div id="monitoringTab" class="tab-content p-6">
    <!-- 記録設定セクション -->
    <div class="bg-white shadow-md rounded-lg p-6 mb-6">
        <h2 class="text-xl font-semibold mb-3">記録設定</h2>
        <div id="csvModeSection">
            <label for="csvMode" class="block mb-2">記録先選択:</label>
            <select id="csvMode" onchange="toggleCsvSelection()" class="w-full p-2 border rounded">
                <option value="existing">既存のCSVに記録</option>
                <option value="new">新規CSVを作成</option>
            </select>
    
            <div id="existingCsvSection" class="mt-4">
                <label for="csvSelect" class="block mb-2">記録するCSV:</label>
                <select id="csvSelect" class="w-full p-2 border rounded"></select>
            </div>
    
            <div id="newCsvSection" class="mt-4 hidden">
                <label for="newCsvName" class="block mb-2">新規CSV名:</label>
                <input type="text" id="newCsvName" class="w-full p-2 border rounded" placeholder="ファイル名を入力">
                <button onclick="createNewCsv()" class="mt-3 w-full bg-blue-500 text-white p-2 rounded hover:bg-blue-600">作成</button>
            </div>
        </div>
        <div id="recordedCsvSection" style="display: none;">
            <span>現在記録中:</span>
            <span id="recordedCsvName"></span>
        </div>
    </div>

    <!-- 監視コントロール -->
    <div class="flex gap-4 mb-6">
        <button id="toggleRecognitionBtn" onclick="toggleRecognition()" class="w-full bg-green-500 text-white p-3 rounded hover:bg-green-600">
            監視開始
        </button>
    </div>

    <!-- 動画フィード -->
    <div class="flex justify-center mb-6">
        <img src="{{ url_for('api.video_feed') }}" class="rounded shadow-lg w-full max-w-2xl">
    </div>
</div>
